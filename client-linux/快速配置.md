# 快速配置指南

## 🚀 服务端信息

- **服务端IP**: `101.32.22.185`
- **服务端URL**: `http://101.32.22.185:8000`
- **服务端端口**: `8000`

## ⚡ 最快配置方法（3步）

### 步骤 1: 启动客户端

```bash
python3 run_client.py
```

### 步骤 2: 按提示输入配置

首次运行会提示输入：

1. **客户端ID**: 
   ```
   请输入客户端ID（例如: client-1）: client-1
   ```

2. **服务端URL**: 
   ```
   是否需要修改服务端URL？(y/n，默认y): y
   请输入服务端URL（例如: http://101.32.22.185:8000）: http://101.32.22.185:8000
   ```

3. **客户端公网IP**（如果需要）:
   ```
   请输入客户端公网IP（留空使用自动检测）: your-client-public-ip
   ```
   
   **何时需要配置：**
   - 客户端在服务器上运行 ✅ 需要配置
   - 客户端在本地，服务端无法访问 ❌ 不需要配置（会自动检测）

### 步骤 3: 完成

配置会自动保存到 `client/data/client/config.json`

## 📝 配置文件位置

配置文件：`client/data/client/config.json`

首次运行后会自动创建，内容示例：
```json
{
  "client_id": "client-1",
  "server_url": "http://101.32.22.185:8000",
  "client_ip": "your-client-public-ip"
}
```

## 🔍 验证配置

### 检查服务端是否可达

```bash
curl http://101.32.22.185:8000/api/clients
```

如果返回客户端列表（即使是空的），说明服务端正常。

### 检查客户端是否注册成功

1. 访问服务端 Web 界面：`http://101.32.22.185:8000`
2. 查看"客户端管理"面板
3. 应该能看到你的客户端

## ⚠️ 常见问题

### Q: 客户端注册失败怎么办？

**A:** 检查以下几点：
1. 服务端URL是否正确：`http://101.32.22.185:8000`
2. 网络是否可达：`ping 101.32.22.185`
3. 客户端ID是否唯一（不能与其他客户端重复）
4. 查看客户端日志中的错误信息

### Q: 服务端无法访问客户端怎么办？

**A:** 需要配置客户端公网IP：
1. 如果客户端在服务器上，使用服务器的公网IP
2. 编辑配置文件 `client/data/client/config.json`，添加 `"client_ip": "your-public-ip"`
3. 确保防火墙开放端口9000
4. 重启客户端

### Q: 如何修改配置？

**A:** 两种方式：
1. **直接编辑配置文件**：`client/data/client/config.json`
2. **删除配置文件重新运行**：删除 `client/data/client/config.json`，重新运行 `python run_client.py`

## 📞 需要帮助？

- 详细配置说明：查看 `配置说明.md`
- 部署说明：查看 `README_DEPLOY.md`
- 安装指南：查看 `INSTALL.md`

